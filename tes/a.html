<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Chatbot with PDF/DOC Upload</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background: linear-gradient(135deg, #7f53ac 0%, #647dee 100%);
        font-family: "Segoe UI", sans-serif;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .chat-container {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(44, 62, 80, 0.2);
        width: 400px;
        max-width: 95vw;
        display: flex;
        flex-direction: column;
        padding: 24px;
      }
      .chat-header {
        font-size: 1.5em;
        font-weight: bold;
        color: #7f53ac;
        text-align: center;
        margin-bottom: 12px;
        letter-spacing: 1px;
      }
      .chat-window {
        background: #f4f6fb;
        border-radius: 10px;
        height: 320px;
        overflow-y: auto;
        padding: 14px;
        margin-bottom: 16px;
        box-shadow: 0 2px 8px rgba(100, 125, 222, 0.08);
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .msg {
        padding: 10px 14px;
        border-radius: 16px;
        max-width: 75%;
        word-break: break-word;
        font-size: 1em;
        line-height: 1.4;
        box-shadow: 0 1px 4px rgba(100, 125, 222, 0.07);
      }
      .msg.user {
        background: linear-gradient(90deg, #7f53ac 0%, #647dee 100%);
        color: #fff;
        align-self: flex-end;
        border-bottom-right-radius: 4px;
      }
      .msg.bot {
        background: #e0e4fa;
        color: #3f3f3f;
        align-self: flex-start;
        border-bottom-left-radius: 4px;
      }
      .chat-input-area {
        display: flex;
        gap: 8px;
        margin-bottom: 10px;
      }
      .chat-input {
        flex: 1;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #c7c7c7;
        font-size: 1em;
        outline: none;
        transition: border 0.2s;
      }
      .chat-input:focus {
        border: 1.5px solid #7f53ac;
      }
      .send-btn {
        background: linear-gradient(90deg, #7f53ac 0%, #647dee 100%);
        color: #fff;
        border: none;
        border-radius: 8px;
        padding: 0 18px;
        font-size: 1em;
        cursor: pointer;
        transition: background 0.2s;
      }
      .send-btn:hover {
        background: linear-gradient(90deg, #647dee 0%, #7f53ac 100%);
      }
      .file-upload-area {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
        font-size: 0.98em;
      }
      .file-label {
        background: #e0e4fa;
        color: #7f53ac;
        padding: 6px 12px;
        border-radius: 7px;
        cursor: pointer;
        transition: background 0.2s;
        font-weight: 500;
      }
      .file-label:hover {
        background: #d1d9f7;
      }
      .file-upload {
        display: none;
      }
      .file-name {
        color: #647dee;
        font-weight: 500;
        font-size: 0.97em;
      }
    </style>
  </head>
  <body>
    <div class="chat-container">
      <div class="chat-header">ðŸ¤– PDF/DOC Chatbot</div>
      <form class="file-upload-area" onsubmit="return false;">
        <label for="file-upload" class="file-label">ðŸ“„ Upload PDF/DOC</label>
        <input
          type="file"
          id="file-upload"
          class="file-upload"
          accept=".pdf,.doc,.docx"
        />
        <span class="file-name" id="file-name"></span>
      </form>
      <div class="chat-window" id="chat-window">
        <div class="msg bot">
          Hi! Upload a PDF or DOC file and ask me anything about it.
        </div>
      </div>
      <form class="chat-input-area" id="chat-form" autocomplete="off">
        <input
          type="text"
          class="chat-input"
          id="chat-input"
          placeholder="Type your message..."
          required
        />
        <button type="submit" class="send-btn">Send</button>
      </form>
    </div>
    <script>
      const chatWindow = document.getElementById("chat-window");
      const chatForm = document.getElementById("chat-form");
      const chatInput = document.getElementById("chat-input");
      const fileUpload = document.getElementById("file-upload");
      const fileName = document.getElementById("file-name");
      let uploadedFile = null;

      // File upload handler
      fileUpload.addEventListener("change", function () {
        if (this.files && this.files[0]) {
          uploadedFile = this.files[0];
          fileName.textContent = uploadedFile.name;
          appendMessage(
            "bot",
            `File "${uploadedFile.name}" uploaded! Now you can ask questions about it.`
          );
        }
      });

      // Chat form handler
      chatForm.addEventListener("submit", function (e) {
        e.preventDefault();
        const text = chatInput.value.trim();
        if (!text) return;
        appendMessage("user", text);
        chatInput.value = "";
        setTimeout(() => {
          // Simulated bot reply
          if (!uploadedFile) {
            appendMessage("bot", "Please upload a PDF or DOC file first.");
          } else {
            appendMessage(
              "bot",
              `Pretend I'm answering your question about "${uploadedFile.name}": "${text}"`
            );
          }
        }, 700);
      });

      // Append message to chat window
      function appendMessage(sender, text) {
        const msgDiv = document.createElement("div");
        msgDiv.className = "msg " + sender;
        msgDiv.textContent = text;
        chatWindow.appendChild(msgDiv);
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }

      // Click label to trigger file input
      document.querySelector(".file-label").addEventListener("click", () => {
        fileUpload.click();
      });
    </script>
  </body>
</html>
